import{u as U,g as ae,h as te,i as Y,j as le,P as ie,t as se,k as de,l as A,m as H,n as ue,p as B,q as t,s as oe,R as T,v as ne,x as re,y as me,C as ge,z as ce,A as he,B as pe,D as be,E as ve,F as ye,G as ke,H as $,I,J as qe,K as R,L as fe}from"./app-DR5J2daJ.js";const xe=["/","/demo/","/demo/disable.html","/demo/echarts.html","/demo/encrypt.html","/demo/markdown.html","/demo/markmap.html","/demo/page.html","/en/","/guide/","/slides/slides.html","/en/demo/","/en/demo/disable.html","/en/demo/echarts.html","/en/demo/encrypt.html","/en/demo/markdown.html","/en/demo/page.html","/en/guide/","/en/slides/slides.html","/guide/ai/","/guide/algorithm/","/guide/blockchain/","/guide/cloudnative/","/guide/database/","/guide/datascience/","/guide/datascience/python.html","/guide/development/","/guide/devops/","/guide/finance/","/guide/infosec/","/guide/iot/","/guide/notes/","/guide/opensource/","/guide/opensource/ai.html","/guide/opensource/backend.html","/guide/opensource/blockchain.html","/guide/opensource/charts.html","/guide/opensource/cloudnative.html","/guide/opensource/database.html","/guide/opensource/datascience.html","/guide/opensource/desktop.html","/guide/opensource/devops.html","/guide/opensource/extension.html","/guide/opensource/frontend.html","/guide/opensource/iot.html","/guide/opensource/linux.html","/guide/opensource/lowcode.html","/guide/opensource/minipgrogram.html","/guide/opensource/mobile.html","/guide/opensource/network.html","/guide/opensource/tools.html","/guide/os/","/guide/roadmap/","/guide/tool/","/guide/tool/git.html","/guide/tool/vscode.html","/workspace/cgzair/","/guide/cloudnative/docker/","/guide/cloudnative/docker/registry.html","/guide/cloudnative/habor/","/guide/cloudnative/helm/","/guide/cloudnative/helm/installation.html","/guide/cloudnative/helm/introduction.html","/guide/cloudnative/helm/quickstart.html","/guide/cloudnative/kubernetes/","/guide/cloudnative/kubernetes/crictl.html","/guide/cloudnative/kubernetes/demo.html","/guide/cloudnative/kubernetes/ha-loadbanlance.html","/guide/cloudnative/kubernetes/ingress.html","/guide/cloudnative/kubernetes/introduction.html","/guide/cloudnative/kubernetes/metrics.html","/guide/cloudnative/kubernetes/scripts.html","/guide/cloudnative/kubesphere/","/guide/cloudnative/portainer/","/guide/cloudnative/rancher/","/guide/cloudnative/rancher/introduction.html","/guide/cloudnative/sealos/","/guide/database/apachekylin/","/guide/database/cassandra/","/guide/database/clickhouse/","/guide/database/couchdb/","/guide/database/elasticsearch/","/guide/database/etcd/","/guide/database/gauss/","/guide/database/hbase/","/guide/database/mongo/","/guide/database/mysql/","/guide/database/mysql/audit.html","/guide/database/mysql/dml.html","/guide/database/mysql/installation.html","/guide/database/mysql/partitioning.html","/guide/database/mysql/performance.html","/guide/database/mysql/session.html","/guide/database/mysql/user.html","/guide/database/oracle/","/guide/database/oracle/archivelog.html","/guide/database/oracle/ash.html","/guide/database/oracle/audit.html","/guide/database/oracle/autotask.html","/guide/database/oracle/awr.html","/guide/database/oracle/characterset.html","/guide/database/oracle/dataguard.html","/guide/database/oracle/ddl.html","/guide/database/oracle/error.html","/guide/database/oracle/flashback.html","/guide/database/oracle/instance.html","/guide/database/oracle/netservice.html","/guide/database/oracle/pdb.html","/guide/database/oracle/scheduler.html","/guide/database/oracle/scripts.html","/guide/database/oracle/session.html","/guide/database/oracle/spaceobject.html","/guide/database/oracle/sqlplus.html","/guide/database/oracle/trace.html","/guide/database/oracle/transaction.html","/guide/database/oracle/user.html","/guide/database/postgresql/","/guide/database/postgresql/installation.html","/guide/database/redis/","/guide/database/sqlite/","/guide/database/sqlserver/","/guide/database/tidb/","/guide/development/algorithm/","/guide/development/backend/","/guide/development/frontend/","/guide/development/frontend/react.html","/guide/development/frontend/vue.html","/guide/development/language/","/guide/development/ui/","/guide/development/ui/ant-design-react.html","/guide/development/ui/ant-design-vue.html","/guide/development/ui/element-plus.html","/guide/development/ui/vuetify.html","/guide/devops/ansible/","/guide/devops/ansible/adhoc.html","/guide/devops/ansible/deploy.html","/guide/devops/ansible/installation.html","/guide/devops/ansible/playbook.html","/guide/devops/zabbix/","/guide/devops/zabbix/introduction.html","/guide/os/linux/","/guide/os/windows/","/guide/tool/github/gh.html","/workspace/cgzair/jumpserver/","/workspace/cgzair/jumpserver/jumpserver-database.html","/workspace/cgzair/jumpserver/naming-conventions.html","/guide/cloudnative/kubernetes/installation/","/guide/cloudnative/kubernetes/installation/install-k8s-ha-with-binary-manually.html","/guide/cloudnative/kubernetes/installation/install-k8s-ha-with-kubeadm.html","/guide/cloudnative/kubernetes/installation/install-k8s-ha-with-kubespay.html","/guide/cloudnative/kubernetes/installation/install-k8s-with-kubeadm.html","/guide/cloudnative/kubernetes/installation/upgrade-k8s.html","/guide/cloudnative/kubernetes/questions/","/guide/cloudnative/kubesphere/install-on-linux/","/guide/cloudnative/kubesphere/install-on-linux/uninstall-kubesphere-and-Kubernetes.html","/guide/cloudnative/rancher/installation/","/guide/cloudnative/rancher/installation/install-kubernetes-on-rancher.html","/guide/cloudnative/rancher/installation/install-upgrade-on-a-kubernetes-cluster.html","/guide/cloudnative/sealos/installtion/","/guide/cloudnative/sealos/installtion/install-k8s-with-sealos.html","/guide/database/etcd/ha/","/guide/database/mongo/ha/","/guide/database/mongo/ha/hapractise.html","/guide/database/mongo/ha/hasolution.html","/guide/database/mysql/backup/","/guide/database/mysql/backup/mysql-enterprise-backup.html","/guide/database/mysql/backup/mysqldump.html","/guide/database/mysql/engine/","/guide/database/mysql/ha/","/guide/database/mysql/ha/hasolution.html","/guide/database/mysql/ha/qa.html","/guide/database/mysql/index/","/guide/database/mysql/lock/","/guide/database/mysql/monitor/","/guide/database/mysql/optimization/","/guide/database/oracle/backuprecovery/","/guide/database/oracle/backuprecovery/bbed.html","/guide/database/oracle/backuprecovery/datapump.html","/guide/database/oracle/backuprecovery/rman.html","/guide/database/oracle/ha/","/guide/database/oracle/installation/","/guide/database/oracle/installation/install-oracle19c-on-centos7.html","/guide/database/oracle/installation/install-oracle19c-on-centos9.html","/guide/database/oracle/performance/","/guide/database/oracle/performance/perfomancesql.html","/guide/database/oracle/performance/performance.html","/guide/database/oracle/performance/slowsql.html","/guide/database/oracle/performance/sqltuning.html","/guide/database/oracle/sql/","/guide/database/oracle/sql/procedure.html","/guide/database/oracle/tablespace/","/guide/database/oracle/tablespace/clean.html","/guide/database/oracle/tablespace/tablespace.html","/guide/database/postgresql/ha/","/guide/database/postgresql/ha/pg-ha-solutions.html","/guide/database/redis/ha/","/guide/database/redis/ha/hasolution.html","/guide/database/sqlserver/ha/","/guide/database/tidb/architecture/","/guide/database/tidb/architecture/tidb-architecture.html","/guide/database/tidb/deployments/","/guide/database/tidb/deployments/post-installation-check.html","/guide/database/tidb/deployments/previous-installation-check.html","/guide/database/tidb/deployments/requirements.html","/guide/development/backend/beego/beego.html","/guide/development/backend/django/django.html","/guide/development/backend/fastapi/fastapi.html","/guide/development/backend/flask/flask.html","/guide/development/backend/gin/gin.html","/guide/development/language/codereview/sonarqube.html","/guide/development/language/go/web.html","/guide/development/language/javascript/javascript.html","/guide/development/language/python/web.html","/guide/development/language/python/word.html","/guide/development/language/rust/rust.html","/guide/development/language/typescript/typescript.html","/guide/devops/zabbix/installation/","/guide/os/linux/administration/","/guide/os/linux/administration/disk.html","/guide/os/linux/administration/ftp.html","/guide/os/linux/administration/io.html","/guide/os/linux/administration/iptables.html","/guide/os/linux/administration/machine.html","/guide/os/linux/administration/network.html","/guide/os/linux/administration/nfs.html","/guide/os/linux/administration/ops.html","/guide/os/linux/administration/random.html","/guide/os/linux/administration/upgrade.html","/guide/os/linux/program/","/guide/os/windows/firewall/","/guide/os/windows/firewall/setfirewall.html","/guide/cloudnative/kubernetes/installation/version/","/guide/cloudnative/kubernetes/installation/version/install-k8s-v1.15.html","/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/","/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/add-edge-nodes.html","/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/add-new-nodes.html","/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/remove-nodes.html","/guide/cloudnative/kubesphere/install-on-linux/high-availability-configurations/","/guide/cloudnative/kubesphere/install-on-linux/high-availability-configurations/ha-configuration.html","/guide/cloudnative/kubesphere/install-on-linux/high-availability-configurations/internal-ha-configuration.html","/guide/cloudnative/kubesphere/install-on-linux/high-availability-configurations/set-up-ha-cluster-using-keepalived-haproxy.html","/guide/database/mysql/ha/deployment/","/guide/database/mysql/ha/deployment/mysql-galera-cluster.html","/guide/database/mysql/ha/deployment/mysql-innodb-cluster-with-keepalived.html","/guide/database/mysql/ha/deployment/mysql-innodb-cluster.html","/guide/database/mysql/ha/deployment/mysql-master-master-with-gtid.html","/guide/database/mysql/ha/deployment/mysql-master-slave-with-gtid-and-semisync.html","/guide/database/mysql/ha/deployment/mysql-master-slave-with-gtid-replication-manager-proxysql.html","/guide/database/mysql/ha/deployment/mysql-master-slave-with-gtid-replication-manager.html","/guide/database/mysql/ha/deployment/mysql-master-slave-with-gtid.html","/guide/database/mysql/ha/deployment/mysql-master-slave-with-pos.html","/guide/database/mysql/ha/deployment/mysql-mgr-cluster.html","/guide/database/mysql/ha/deployment/mysql-ndb-cluster.html","/guide/database/mysql/ha/deployment/mysql-percona-xtradb-cluster.html","/guide/database/postgresql/ha/deployment/","/guide/database/postgresql/ha/deployment/pg-ha-patroni-etcd.html","/guide/database/postgresql/ha/deployment/pg-ha-repmgr.html","/guide/database/redis/ha/deployment/","/guide/database/redis/ha/deployment/redis-ha-cluster.html","/guide/database/redis/ha/deployment/redis-ha-master-slave-with-sentinel.html","/guide/database/redis/ha/deployment/redis-ha-master-slave.html","/guide/database/tidb/deployments/installandstartup/","/guide/database/tidb/deployments/installandstartup/tiup-installation.html","/guide/database/tidb/deployments/test/","/guide/database/tidb/deployments/test/benchmark-tidb-using-sysbench.html","/guide/database/tidb/deployments/test/benchmark-tidb-using-tpcc.html","/guide/database/tidb/deployments/test/test-usage.html","/guide/database/tidb/deployments/test/tiflash-performance-tuning-methods.html","/guide/database/tidb/deployments/topology/","/guide/database/tidb/deployments/topology/hybrid-deployment-topology.html","/guide/database/tidb/deployments/topology/minimal-deployment-topology.html","/guide/database/tidb/deployments/topology/schedule-replicas-by-topology-labels.html","/guide/database/tidb/deployments/topology/ticdc-deployment-topology.html","/guide/database/tidb/deployments/topology/tidb-binlog-deployment-topology.html","/guide/database/tidb/deployments/topology/tiflash-deployment-topology.html","/guide/database/tidb/deployments/topology/tispark-deployment-topology.html","/guide/devops/zabbix/installation/6.0/install-zabbix-agent.html","/guide/devops/zabbix/installation/6.0/install-zabbix-server.html","/guide/devops/zabbix/installation/6.4/install-zabbix-agent.html","/guide/devops/zabbix/installation/6.4/install-zabbix-server.html","/guide/os/linux/administration/common/","/guide/os/linux/administration/common/compression.html","/404.html","/slides/","/en/slides/","/workspace/","/guide/tool/github/","/guide/development/backend/beego/","/guide/development/backend/django/","/guide/development/backend/fastapi/","/guide/development/backend/flask/","/guide/development/backend/gin/","/guide/development/language/codereview/","/guide/development/language/go/","/guide/development/language/javascript/","/guide/development/language/python/","/guide/development/language/rust/","/guide/development/language/typescript/","/guide/devops/zabbix/installation/6.0/","/guide/devops/zabbix/installation/6.4/"],we="SEARCH_PRO_QUERY_HISTORY",v=U(we,[]),He=()=>{const{queryHistoryCount:l}=R,i=l>0;return{enabled:i,queryHistory:v,addQueryHistory:s=>{i&&(v.value=Array.from(new Set([s,...v.value.slice(0,l-1)])))},removeQueryHistory:s=>{v.value=[...v.value.slice(0,s),...v.value.slice(s+1)]}}},E=l=>xe[l.id]+("anchor"in l?`#${l.anchor}`:""),Re="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:_}=R,y=U(Re,[]),ze=()=>{const l=_>0;return{enabled:l,resultHistory:y,addResultHistory:i=>{if(l){const s={link:E(i),display:i.display};"header"in i&&(s.header=i.header),y.value=[s,...y.value.slice(0,_-1)]}},removeResultHistory:i=>{y.value=[...y.value.slice(0,i),...y.value.slice(i+1)]}}},Qe=l=>{const i=ge(),s=Y(),z=ce(),u=A(0),f=H(()=>u.value>0),h=he([]);return pe(()=>{const{search:p,terminate:Q}=be(),k=qe(r=>{const q=r.join(" "),{searchFilter:j=c=>c,splitWord:S,suggestionsFilter:F,...b}=i.value;q?(u.value+=1,p(r.join(" "),s.value,b).then(c=>j(c,q,s.value,z.value)).then(c=>{u.value-=1,h.value=c}).catch(c=>{console.warn(c),u.value-=1,u.value||(h.value=[])})):h.value=[]},R.searchDelay-R.suggestDelay);B([l,s],([r])=>k(r),{immediate:!0}),ve(()=>{Q()})}),{isSearching:f,results:h}};var Se=ae({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:i}){const s=te(),z=Y(),u=le(ie),{enabled:f,addQueryHistory:h,queryHistory:p,removeQueryHistory:Q}=He(),{enabled:k,resultHistory:r,addResultHistory:q,removeResultHistory:j}=ze(),S=f||k,F=se(l,"queries"),{results:b,isSearching:c}=Qe(F),d=de({isQuery:!0,index:0}),m=A(0),g=A(0),P=H(()=>S&&(p.value.length>0||r.value.length>0)),C=H(()=>b.value.length>0),L=H(()=>b.value[m.value]||null),K=()=>{const{isQuery:e,index:a}=d;a===0?(d.isQuery=!e,d.index=e?r.value.length-1:p.value.length-1):d.index=a-1},M=()=>{const{isQuery:e,index:a}=d;a===(e?p.value.length-1:r.value.length-1)?(d.isQuery=!e,d.index=0):d.index=a+1},G=()=>{m.value=m.value>0?m.value-1:b.value.length-1,g.value=L.value.contents.length-1},J=()=>{m.value=m.value<b.value.length-1?m.value+1:0,g.value=0},V=()=>{g.value<L.value.contents.length-1?g.value+=1:J()},N=()=>{g.value>0?g.value-=1:G()},D=e=>e.map(a=>fe(a)?a:t(a[0],a[1])),W=e=>{if(e.type==="customField"){const a=ye[e.index]||"$content",[o,w=""]=ke(a)?a[z.value].split("$content"):a.split("$content");return e.display.map(n=>t("div",D([o,...n,w])))}return e.display.map(a=>t("div",D(a)))},x=()=>{m.value=0,g.value=0,i("updateQuery",""),i("close")},X=()=>f?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},u.value.queryHistory),p.value.map((e,a)=>t("div",{class:["search-pro-result-item",{active:d.isQuery&&d.index===a}],onClick:()=>{i("updateQuery",e)}},[t($,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:o=>{o.preventDefault(),o.stopPropagation(),Q(a)}})]))])):null,Z=()=>k?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},u.value.resultHistory),r.value.map((e,a)=>t(T,{to:e.link,class:["search-pro-result-item",{active:!d.isQuery&&d.index===a}],onClick:()=>{x()}},()=>[t($,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(o=>D(o)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:o=>{o.preventDefault(),o.stopPropagation(),j(a)}})]))])):null;return ue("keydown",e=>{if(l.isFocusing){if(C.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")V();else if(e.key==="Enter"){const a=L.value.contents[g.value];h(l.queries.join(" ")),q(a),s.push(E(a)),x()}}else if(k){if(e.key==="ArrowUp")K();else if(e.key==="ArrowDown")M();else if(e.key==="Enter"){const{index:a}=d;d.isQuery?(i("updateQuery",p.value[a]),e.preventDefault()):(s.push(r.value[a].link),x())}}}}),B([m,g],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:l.queries.length?!C.value:!P.value}],id:"search-pro-results"},l.queries.length?c.value?t(oe,{hint:u.value.searching}):C.value?t("ul",{class:"search-pro-result-list"},b.value.map(({title:e,contents:a},o)=>{const w=m.value===o;return t("li",{class:["search-pro-result-list-item",{active:w}]},[t("div",{class:"search-pro-result-title"},e||u.value.defaultTitle),a.map((n,ee)=>{const O=w&&g.value===ee;return t(T,{to:E(n),class:["search-pro-result-item",{active:O,"aria-selected":O}],onClick:()=>{h(l.queries.join(" ")),q(n),x()}},()=>[n.type==="text"?null:t(n.type==="title"?ne:n.type==="heading"?re:me,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[n.type==="text"&&n.header?t("div",{class:"content-header"},n.header):null,t("div",W(n))])])})])})):u.value.emptyResult:S?P.value?[X(),Z()]:u.value.emptyHistory:u.value.emptyResult)}});export{Se as default};
