import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as p,c as s,a as t,d as e,b as l,w as n,f as d}from"./app-DR5J2daJ.js";const c={},g=t("h1",{id:"tispark-部署拓扑",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#tispark-部署拓扑"},[t("span",null,"TiSpark 部署拓扑")])],-1),h=t("p",null,"本文介绍 TiSpark 部署的拓扑，以及如何在最小拓扑的基础上同时部署 TiSpark。TiSpark 是 PingCAP 为解决用户复杂 OLAP 需求而推出的产品。它借助 Spark 平台，同时融合 TiKV 分布式集群的优势，和 TiDB 一起为用户一站式解决 HTAP (Hybrid Transactional/Analytical Processing) 的需求。",-1),y=d('<blockquote><p><strong>警告：</strong></p><p>TiUP Cluster 的 TiSpark 支持目前为废弃状态，不建议使用。</p></blockquote><h2 id="拓扑信息" tabindex="-1"><a class="header-anchor" href="#拓扑信息"><span>拓扑信息</span></a></h2><table><thead><tr><th style="text-align:left;">实例</th><th style="text-align:left;">个数</th><th style="text-align:left;">物理机配置</th><th style="text-align:left;">IP</th><th style="text-align:left;">配置</th></tr></thead><tbody><tr><td style="text-align:left;">TiDB</td><td style="text-align:left;">3</td><td style="text-align:left;">16 VCore 32GB * 1</td><td style="text-align:left;">10.0.1.1 <br> 10.0.1.2 <br> 10.0.1.3</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">PD</td><td style="text-align:left;">3</td><td style="text-align:left;">4 VCore 8GB * 1</td><td style="text-align:left;">10.0.1.4 <br> 10.0.1.5 <br> 10.0.1.6</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">TiKV</td><td style="text-align:left;">3</td><td style="text-align:left;">16 VCore 32GB 2TB (nvme ssd) * 1</td><td style="text-align:left;">10.0.1.7 <br> 10.0.1.8 <br> 10.0.1.9</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">TiSpark</td><td style="text-align:left;">3</td><td style="text-align:left;">8 VCore 16GB * 1</td><td style="text-align:left;">10.0.1.21 (master) <br> 10.0.1.22 (worker) <br> 10.0.1.23 (worker)</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">Monitoring &amp; Grafana</td><td style="text-align:left;">1</td><td style="text-align:left;">4 VCore 8GB * 1 500GB (ssd)</td><td style="text-align:left;">10.0.1.11</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr></tbody></table><h3 id="拓扑模版" tabindex="-1"><a class="header-anchor" href="#拓扑模版"><span>拓扑模版</span></a></h3>',4),k={href:"https://github.com/pingcap/docs-cn/blob/master/config-templates/simple-tispark.yaml",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/pingcap/docs-cn/blob/master/config-templates/complex-tispark.yaml",target:"_blank",rel:"noopener noreferrer"},T=t("blockquote",null,[t("p",null,[t("strong",null,"注意：")]),t("ul",null,[t("li",null,[e("无需手动创建配置文件中的 "),t("code",null,"tidb"),e(" 用户，TiUP cluster 组件会在目标主机上自动创建该用户。可以自定义用户，也可以和中控机的用户保持一致。")]),t("li",null,"如果部署目录配置为相对路径，会部署在用户的 Home 目录下。")])],-1),f=t("h2",{id:"环境要求",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#环境要求"},[t("span",null,"环境要求")])],-1),u=t("p",null,"由于 TiSpark 基于 Apache Spark 集群，在启动包含 TiSpark 组件的 TiDB 集群前，需要在部署了 TiSpark 组件的服务器上安装 Java 运行时环境(JRE) 8，否则将无法启动相关组件。",-1),b={href:"https://openjdk.java.net/install/",target:"_blank",rel:"noopener noreferrer"},_=t("p",null,[e("如果部署服务器上已经安装有 JRE 8，但不在系统的默认包管理工具路径中，可以通过在拓扑配置中设置 "),t("code",null,"java_home"),e(" 参数来指定要使用的 JRE 环境所在的路径。该参数对应系统环境变量 "),t("code",null,"JAVA_HOME"),e("。")],-1);function x(S,P){const i=r("RouteLink"),a=r("ExternalLinkIcon");return p(),s("div",null,[g,h,t("p",null,[e("关于 TiSpark 的架构介绍与使用，参见 "),l(i,{to:"/tispark-overview.html"},{default:n(()=>[e("TiSpark 用户指南")]),_:1}),e("。")]),y,t("p",null,[t("a",k,[e("简单 TiSpark 配置模板"),l(a)])]),t("p",null,[t("a",m,[e("详细 TiSpark 配置模板"),l(a)])]),t("p",null,[e("以上 TiDB 集群拓扑文件中，详细的配置项说明见"),l(i,{to:"/tiup/tiup-cluster-topology-reference.html#tispark_masters"},{default:n(()=>[e("通过 TiUP 部署 TiDB 集群的拓扑文件配置")]),_:1}),e("。")]),T,f,u,t("p",null,[e("TiUP 不提供自动安装 JRE 的支持，该操作需要用户自行完成。JRE 8 的安装方法可以参考 "),t("a",b,[e("OpenJDK 的文档说明"),l(a)]),e("。")]),_])}const v=o(c,[["render",x],["__file","tispark-deployment-topology.html.vue"]]),C=JSON.parse('{"path":"/guide/database/tidb/deployments/topology/tispark-deployment-topology.html","title":"TiSpark 部署拓扑","lang":"zh-CN","frontmatter":{"title":"TiSpark 部署拓扑","description":"TiSpark 部署拓扑 本文介绍 TiSpark 部署的拓扑，以及如何在最小拓扑的基础上同时部署 TiSpark。TiSpark 是 PingCAP 为解决用户复杂 OLAP 需求而推出的产品。它借助 Spark 平台，同时融合 TiKV 分布式集群的优势，和 TiDB 一起为用户一站式解决 HTAP (Hybrid Transactional/An...","head":[["meta",{"property":"og:url","content":"https://github.com/abelit/abelit-datapeacock.git/guide/database/tidb/deployments/topology/tispark-deployment-topology.html"}],["meta",{"property":"og:site_name","content":"数之雀"}],["meta",{"property":"og:title","content":"TiSpark 部署拓扑"}],["meta",{"property":"og:description","content":"TiSpark 部署拓扑 本文介绍 TiSpark 部署的拓扑，以及如何在最小拓扑的基础上同时部署 TiSpark。TiSpark 是 PingCAP 为解决用户复杂 OLAP 需求而推出的产品。它借助 Spark 平台，同时融合 TiKV 分布式集群的优势，和 TiDB 一起为用户一站式解决 HTAP (Hybrid Transactional/An..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T14:06:18.000Z"}],["meta",{"property":"article:author","content":"Abelit"}],["meta",{"property":"article:modified_time","content":"2024-05-11T14:06:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TiSpark 部署拓扑\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T14:06:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Abelit\\",\\"url\\":\\"https://github.com/abelit\\"}]}"]]},"headers":[{"level":2,"title":"拓扑信息","slug":"拓扑信息","link":"#拓扑信息","children":[{"level":3,"title":"拓扑模版","slug":"拓扑模版","link":"#拓扑模版","children":[]}]},{"level":2,"title":"环境要求","slug":"环境要求","link":"#环境要求","children":[]}],"git":{"createdTime":1715436378000,"updatedTime":1715436378000,"contributors":[{"name":"ableit","email":"ychenid@live.com","commits":1}]},"readingTime":{"minutes":1.97,"words":590},"filePathRelative":"guide/database/tidb/deployments/topology/tispark-deployment-topology.md","localizedDate":"2024年5月11日","autoDesc":true,"excerpt":"\\n<p>本文介绍 TiSpark 部署的拓扑，以及如何在最小拓扑的基础上同时部署 TiSpark。TiSpark 是 PingCAP 为解决用户复杂 OLAP 需求而推出的产品。它借助 Spark 平台，同时融合 TiKV 分布式集群的优势，和 TiDB 一起为用户一站式解决 HTAP (Hybrid Transactional/Analytical Processing) 的需求。</p>\\n<p>关于 TiSpark 的架构介绍与使用，参见 <a href=\\"/tispark-overview.html\\" target=\\"_blank\\">TiSpark 用户指南</a>。</p>\\n<blockquote>\\n<p><strong>警告：</strong></p>\\n<p>TiUP Cluster 的 TiSpark 支持目前为废弃状态，不建议使用。</p>\\n</blockquote>"}');export{v as comp,C as data};
