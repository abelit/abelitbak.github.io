import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as s,o,c as r,a as t,d as e,b as l,w as a,f as h}from"./app-DR5J2daJ.js";const f={},c=t("h1",{id:"tiflash-部署拓扑",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#tiflash-部署拓扑"},[t("span",null,"TiFlash 部署拓扑")])],-1),g=h('<h2 id="拓扑信息" tabindex="-1"><a class="header-anchor" href="#拓扑信息"><span>拓扑信息</span></a></h2><table><thead><tr><th style="text-align:left;">实例</th><th style="text-align:left;">个数</th><th style="text-align:left;">物理机配置</th><th style="text-align:left;">IP</th><th style="text-align:left;">配置</th></tr></thead><tbody><tr><td style="text-align:left;">TiDB</td><td style="text-align:left;">3</td><td style="text-align:left;">16 VCore 32GB * 1</td><td style="text-align:left;">10.0.1.7 <br> 10.0.1.8 <br> 10.0.1.9</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">PD</td><td style="text-align:left;">3</td><td style="text-align:left;">4 VCore 8GB * 1</td><td style="text-align:left;">10.0.1.4 <br> 10.0.1.5 <br> 10.0.1.6</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">TiKV</td><td style="text-align:left;">3</td><td style="text-align:left;">16 VCore 32GB 2TB (nvme ssd) * 1</td><td style="text-align:left;">10.0.1.1 <br> 10.0.1.2 <br> 10.0.1.3</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">TiFlash</td><td style="text-align:left;">1</td><td style="text-align:left;">32 VCore 64 GB 2TB (nvme ssd) * 1</td><td style="text-align:left;">10.0.1.11</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr><tr><td style="text-align:left;">Monitoring &amp; Grafana</td><td style="text-align:left;">1</td><td style="text-align:left;">4 VCore 8GB * 1 500GB (ssd)</td><td style="text-align:left;">10.0.1.10</td><td style="text-align:left;">默认端口 <br> 全局目录配置</td></tr></tbody></table><h3 id="拓扑模版" tabindex="-1"><a class="header-anchor" href="#拓扑模版"><span>拓扑模版</span></a></h3>',3),p={href:"https://github.com/pingcap/docs-cn/blob/master/config-templates/simple-tiflash.yaml",target:"_blank",rel:"noopener noreferrer"},y={href:"https://github.com/pingcap/docs-cn/blob/master/config-templates/complex-tiflash.yaml",target:"_blank",rel:"noopener noreferrer"},m=t("h3",{id:"关键参数介绍",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#关键参数介绍"},[t("span",null,"关键参数介绍")])],-1),x=t("code",null,"replication.enable-placement-rules",-1),u=t("code",null,"true",-1),b=t("li",null,[t("p",null,[t("code",null,"tiflash_servers"),e(" 实例级别配置 "),t("code",null,'"-host"'),e(" 目前只支持 IP，不支持域名。")])],-1),T=t("blockquote",null,[t("p",null,[t("strong",null,"注意：")]),t("ul",null,[t("li",null,[e("无需手动创建配置文件中的 "),t("code",null,"tidb"),e(" 用户，TiUP cluster 组件会在目标主机上自动创建该用户。可以自定义用户，也可以和中控机的用户保持一致。")]),t("li",null,"如果部署目录配置为相对路径，会部署在用户的 Home 目录下。")])],-1);function _(B,F){const n=s("RouteLink"),i=s("ExternalLinkIcon");return o(),r("div",null,[c,t("p",null,[e("本文介绍在部署最小拓扑集群的基础上，部署 "),l(n,{to:"/tiflash/tiflash-overview.html"},{default:a(()=>[e("TiFlash")]),_:1}),e(" 的拓扑结构。TiFlash 是列式的存储引擎，已经成为集群拓扑的标配，适合 Real-Time HTAP 业务。")]),g,t("ul",null,[t("li",null,[t("p",null,[t("a",p,[e("简单 TiFlash 配置模版"),l(i)])])]),t("li",null,[t("p",null,[t("a",y,[e("详细 TiFlash 配置模版"),l(i)])])])]),t("p",null,[e("以上 TiDB 集群拓扑文件中，详细的配置项说明见"),l(n,{to:"/tiup/tiup-cluster-topology-reference.html#tiflash_servers"},{default:a(()=>[e("通过 TiUP 部署 TiDB 集群的拓扑文件配置")]),_:1}),e("。")]),m,t("ul",null,[t("li",null,[t("p",null,[e("需要将配置模板中 "),x,e(" 设置为 "),u,e("，以开启 PD 的 "),l(n,{to:"/configure-placement-rules.html"},{default:a(()=>[e("Placement Rules")]),_:1}),e(" 功能。")])]),b,t("li",null,[t("p",null,[e("TiFlash 具体的参数配置介绍可参考 "),l(n,{to:"/tiflash/tiflash-configuration.html"},{default:a(()=>[e("TiFlash 参数配置")]),_:1}),e("。")])])]),T])}const P=d(f,[["render",_],["__file","tiflash-deployment-topology.html.vue"]]),k=JSON.parse('{"path":"/guide/database/tidb/deployments/topology/tiflash-deployment-topology.html","title":"TiFlash 部署拓扑","lang":"zh-CN","frontmatter":{"title":"TiFlash 部署拓扑","description":"TiFlash 部署拓扑 本文介绍在部署最小拓扑集群的基础上，部署 的拓扑结构。TiFlash 是列式的存储引擎，已经成为集群拓扑的标配，适合 Real-Time HTAP 业务。 拓扑信息 拓扑模版 简单 TiFlash 配置模版 详细 TiFlash 配置模版 以上 TiDB 集群拓扑文件中，详细的配置项说明见。 关键参数介绍 需要将配置模板中 r...","head":[["meta",{"property":"og:url","content":"https://github.com/abelit/abelit-datapeacock.git/guide/database/tidb/deployments/topology/tiflash-deployment-topology.html"}],["meta",{"property":"og:site_name","content":"数之雀"}],["meta",{"property":"og:title","content":"TiFlash 部署拓扑"}],["meta",{"property":"og:description","content":"TiFlash 部署拓扑 本文介绍在部署最小拓扑集群的基础上，部署 的拓扑结构。TiFlash 是列式的存储引擎，已经成为集群拓扑的标配，适合 Real-Time HTAP 业务。 拓扑信息 拓扑模版 简单 TiFlash 配置模版 详细 TiFlash 配置模版 以上 TiDB 集群拓扑文件中，详细的配置项说明见。 关键参数介绍 需要将配置模板中 r..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T14:06:18.000Z"}],["meta",{"property":"article:author","content":"Abelit"}],["meta",{"property":"article:modified_time","content":"2024-05-11T14:06:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TiFlash 部署拓扑\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T14:06:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Abelit\\",\\"url\\":\\"https://github.com/abelit\\"}]}"]]},"headers":[{"level":2,"title":"拓扑信息","slug":"拓扑信息","link":"#拓扑信息","children":[{"level":3,"title":"拓扑模版","slug":"拓扑模版","link":"#拓扑模版","children":[]},{"level":3,"title":"关键参数介绍","slug":"关键参数介绍","link":"#关键参数介绍","children":[]}]}],"git":{"createdTime":1715436378000,"updatedTime":1715436378000,"contributors":[{"name":"ableit","email":"ychenid@live.com","commits":1}]},"readingTime":{"minutes":1.37,"words":412},"filePathRelative":"guide/database/tidb/deployments/topology/tiflash-deployment-topology.md","localizedDate":"2024年5月11日","autoDesc":true,"excerpt":"\\n<p>本文介绍在部署最小拓扑集群的基础上，部署 <a href=\\"/tiflash/tiflash-overview.html\\" target=\\"_blank\\">TiFlash</a> 的拓扑结构。TiFlash 是列式的存储引擎，已经成为集群拓扑的标配，适合 Real-Time HTAP 业务。</p>\\n<h2>拓扑信息</h2>\\n<table>\\n<thead>\\n<tr>\\n<th style=\\"text-align:left\\">实例</th>\\n<th style=\\"text-align:left\\">个数</th>\\n<th style=\\"text-align:left\\">物理机配置</th>\\n<th style=\\"text-align:left\\">IP</th>\\n<th style=\\"text-align:left\\">配置</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\"text-align:left\\">TiDB</td>\\n<td style=\\"text-align:left\\">3</td>\\n<td style=\\"text-align:left\\">16 VCore 32GB * 1</td>\\n<td style=\\"text-align:left\\">10.0.1.7 <br> 10.0.1.8 <br> 10.0.1.9</td>\\n<td style=\\"text-align:left\\">默认端口 <br>  全局目录配置</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:left\\">PD</td>\\n<td style=\\"text-align:left\\">3</td>\\n<td style=\\"text-align:left\\">4 VCore 8GB * 1</td>\\n<td style=\\"text-align:left\\">10.0.1.4 <br> 10.0.1.5 <br> 10.0.1.6</td>\\n<td style=\\"text-align:left\\">默认端口 <br> 全局目录配置</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:left\\">TiKV</td>\\n<td style=\\"text-align:left\\">3</td>\\n<td style=\\"text-align:left\\">16 VCore 32GB 2TB (nvme ssd) * 1</td>\\n<td style=\\"text-align:left\\">10.0.1.1 <br> 10.0.1.2 <br> 10.0.1.3</td>\\n<td style=\\"text-align:left\\">默认端口 <br> 全局目录配置</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:left\\">TiFlash</td>\\n<td style=\\"text-align:left\\">1</td>\\n<td style=\\"text-align:left\\">32 VCore 64 GB 2TB (nvme ssd) * 1</td>\\n<td style=\\"text-align:left\\">10.0.1.11</td>\\n<td style=\\"text-align:left\\">默认端口 <br> 全局目录配置</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:left\\">Monitoring &amp; Grafana</td>\\n<td style=\\"text-align:left\\">1</td>\\n<td style=\\"text-align:left\\">4 VCore 8GB * 1 500GB (ssd)</td>\\n<td style=\\"text-align:left\\">10.0.1.10</td>\\n<td style=\\"text-align:left\\">默认端口 <br> 全局目录配置</td>\\n</tr>\\n</tbody>\\n</table>"}');export{P as comp,k as data};
