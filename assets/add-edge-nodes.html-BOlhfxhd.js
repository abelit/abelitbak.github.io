import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c as d,a as e,d as n,b as a,f as t}from"./app-DR5J2daJ.js";const r="/assets/kubeedge_arch-C55bx4Q-.png",c="/assets/add-edge-node-DKQxYLIs.png",p="/assets/edge-command-CI_j6aWa.png",u="data:image/png;base64,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",h={},g={href:"https://kubeedge.io/zh/",target:"_blank",rel:"noopener noreferrer"},b=e("figure",null,[e("img",{src:r,alt:"kubeedge_arch",tabindex:"0",loading:"lazy"}),e("figcaption",null,"kubeedge_arch")],-1),v={class:"hint-container tip"},m=e("p",{class:"hint-container-title"},"提示",-1),k={href:"https://docs.kubeedge.io/zh/docs/kubeedge/#components",target:"_blank",rel:"noopener noreferrer"},A=e("p",null,"本教程演示如何将边缘节点添加到集群。",-1),f=e("h2",{id:"准备工作",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#准备工作"},[e("span",null,"准备工作")])],-1),_={href:"https://kubesphere.io/zh/docs/v3.3/pluggable-components/kubeedge/",target:"_blank",rel:"noopener noreferrer"},x=e("li",null,"为了避免兼容性问题，建议安装 v1.21.x 及以下版本的 Kubernetes。",-1),E=e("li",null,"您有一个可用节点作为边缘节点，该节点可以运行 Ubuntu（建议）或 CentOS。本教程以 Ubuntu 18.04 为例。",-1),y=e("li",null,"与 Kubernetes 集群节点不同，边缘节点应部署在单独的网络中。",-1),q=t(`<h2 id="防止非边缘工作负载调度到边缘节点" tabindex="-1"><a class="header-anchor" href="#防止非边缘工作负载调度到边缘节点"><span>防止非边缘工作负载调度到边缘节点</span></a></h2><p>由于部分守护进程集（例如，Calico）有强容忍度，为了避免影响边缘节点的正常工作，您需要手动 Patch Pod 以防止非边缘工作负载调度至边缘节点。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
   
   
<span class="token assign-left variable">NoShedulePatchJson</span><span class="token operator">=</span><span class="token string">&#39;{&quot;spec&quot;:{&quot;template&quot;:{&quot;spec&quot;:{&quot;affinity&quot;:{&quot;nodeAffinity&quot;:{&quot;requiredDuringSchedulingIgnoredDuringExecution&quot;:{&quot;nodeSelectorTerms&quot;:[{&quot;matchExpressions&quot;:[{&quot;key&quot;:&quot;node-role.kubernetes.io/edge&quot;,&quot;operator&quot;:&quot;DoesNotExist&quot;}]}]}}}}}}}&#39;</span>
   
<span class="token assign-left variable">ns</span><span class="token operator">=</span><span class="token string">&quot;kube-system&quot;</span>


<span class="token assign-left variable">DaemonSets</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;nodelocaldns&quot;</span> <span class="token string">&quot;kube-proxy&quot;</span> <span class="token string">&quot;calico-node&quot;</span><span class="token punctuation">)</span>

<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">\${<span class="token operator">#</span>DaemonSets<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
   
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span>  
<span class="token keyword">do</span>
         <span class="token assign-left variable">ds</span><span class="token operator">=</span><span class="token variable">\${DaemonSets<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;Patching resources:DaemonSet/<span class="token variable">\${ds}</span>&quot;</span> <span class="token keyword">in</span> ns:<span class="token string">&quot;<span class="token variable">$ns</span>&quot;</span>,
        kubectl <span class="token parameter variable">-n</span> <span class="token variable">$ns</span> patch DaemonSet/<span class="token variable">\${ds}</span> <span class="token parameter variable">--type</span> merge <span class="token parameter variable">--patch</span> <span class="token string">&quot;<span class="token variable">$NoShedulePatchJson</span>&quot;</span>
        <span class="token function">sleep</span> <span class="token number">1</span>
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建防火墙规则和端口转发规则" tabindex="-1"><a class="header-anchor" href="#创建防火墙规则和端口转发规则"><span>创建防火墙规则和端口转发规则</span></a></h2><p>若要确保边缘节点可以成功地与集群通信，您必须转发端口，以便外部流量进入您的网络。您可以根据下表将外网端口映射到相应的内网 IP 地址（主节点）和端口。此外，您还需要创建防火墙规则以允许流量进入这些端口（<code>10000</code> 至 <code>10004</code>）。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在 ks-installer 的 <code>ClusterConfiguration</code>中，如果您设置的是局域网地址，那么需要配置转发规则。如果您未配置转发规则，直接连接 30000 – 30004 端口即可。</p></div><table><thead><tr><th>字段</th><th>外网端口</th><th>字段</th><th>内网端口</th></tr></thead><tbody><tr><td><code>cloudhubPort</code></td><td><code>10000</code></td><td><code>cloudhubNodePort</code></td><td><code>30000</code></td></tr><tr><td><code>cloudhubQuicPort</code></td><td><code>10001</code></td><td><code>cloudhubQuicNodePort</code></td><td><code>30001</code></td></tr><tr><td><code>cloudhubHttpsPort</code></td><td><code>10002</code></td><td><code>cloudhubHttpsNodePort</code></td><td><code>30002</code></td></tr><tr><td><code>cloudstreamPort</code></td><td><code>10003</code></td><td><code>cloudstreamNodePort</code></td><td><code>30003</code></td></tr><tr><td><code>tunnelPort</code></td><td><code>10004</code></td><td><code>tunnelNodePort</code></td><td><code>30004</code></td></tr></tbody></table><h2 id="配置边缘节点" tabindex="-1"><a class="header-anchor" href="#配置边缘节点"><span>配置边缘节点</span></a></h2><p>您需要在边缘节点上安装容器运行时并配置 EdgeMesh。</p><h3 id="安装容器运行时" tabindex="-1"><a class="header-anchor" href="#安装容器运行时"><span>安装容器运行时</span></a></h3>`,10),D={href:"https://docs.kubeedge.io/zh/docs/",target:"_blank",rel:"noopener noreferrer"},K={href:"https://docs.kubeedge.io/zh/docs/advanced/cri/",target:"_blank",rel:"noopener noreferrer"},B=e("div",{class:"hint-container tip"},[e("p",{class:"hint-container-title"},"提示"),e("p",null,"如果您的边缘节点使用 Docker 作为容器运行时，为确保 KubeSphere 可以获取 Pod 指标，请务必在边缘节点上安装 Docker v19.3.0 或更高版本。")],-1),N=e("h3",{id:"配置-edgemesh",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#配置-edgemesh"},[e("span",null,"配置 EdgeMesh")])],-1),P={href:"https://kubeedge.io/zh/docs/advanced/edgemesh/",target:"_blank",rel:"noopener noreferrer"},M=t(`<ol><li><p>编辑 <code>/etc/nsswitch.conf</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">vi</span> /etc/nsswitch.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>在该文件中添加以下内容。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>hosts:          dns files mdns4_minimal <span class="token punctuation">[</span>NOTFOUND<span class="token operator">=</span>return<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>保存文件并运行以下命令启用 IP 转发：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;net.ipv4.ip_forward = 1&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/sysctl.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>验证修改：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">sysctl</span> <span class="token parameter variable">-p</span> <span class="token operator">|</span> <span class="token function">grep</span> ip_forward
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>预期结果：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>net.ipv4.ip_forward <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h2 id="添加边缘节点" tabindex="-1"><a class="header-anchor" href="#添加边缘节点"><span>添加边缘节点</span></a></h2>`,2),Q=e("li",null,[e("p",null,[n("使用 "),e("code",null,"admin"),n(" 用户登录控制台，点击左上角的"),e("strong",null,"平台管理"),n("。")])],-1),w=e("p",null,[n("选择"),e("strong",null,"集群管理"),n("，然后导航至"),e("strong",null,"节点"),n("下的"),e("strong",null,"边缘节点"),n("。")],-1),z={class:"hint-container tip"},C=e("p",{class:"hint-container-title"},"提示",-1),R={href:"https://kubesphere.io/zh/docs/v3.3/multicluster-management/",target:"_blank",rel:"noopener noreferrer"},S=t('<li><p>点击<strong>添加</strong>。在出现的对话框中，设置边缘节点的节点名称并输入其内网 IP 地址。点击<strong>验证</strong>以继续。</p><figure><img src="'+c+'" alt="add-edge-node" tabindex="0" loading="lazy"><figcaption>add-edge-node</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>内网 IP 地址仅用于节点间通信，您不一定要使用边缘节点的真实内网 IP 地址。只要 IP 地址验证成功，您就可以使用该 IP 地址。</li><li>建议您勾选方框添加默认污点。</li></ul></div></li><li><p>复制<strong>边缘节点配置命令</strong>下自动创建的命令，并在您的边缘节点上运行该命令。</p><figure><img src="'+p+'" alt="edge-command" tabindex="0" loading="lazy"><figcaption>edge-command</figcaption></figure><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在运行该命令前，请确保您的边缘节点上已安装 <code>wget</code>。</p></div></li>',2),U=e("p",null,"关闭对话框，刷新页面，您将看到边缘节点显示在列表中。",-1),F={class:"hint-container tip"},I=e("p",{class:"hint-container-title"},"提示",-1),V=e("strong",null,"边缘节点",-1),G={href:"https://kubesphere.io/zh/docs/v3.3/pluggable-components/metrics-server/",target:"_blank",rel:"noopener noreferrer"},L=t('<h2 id="收集边缘节点监控信息" tabindex="-1"><a class="header-anchor" href="#收集边缘节点监控信息"><span>收集边缘节点监控信息</span></a></h2><p>如果需要收集边缘节点的监控信息，请先在<code>ClusterConfiguration</code> 中开启 <code>metrics_server</code>，以及在 KubeEdge 中开启 <code>edgeStream</code>。</p><ol><li><p>在 KubeSphere 控制台上，点击<strong>平台管理 &gt; 集群管理</strong>。</p></li><li><p>在左侧导航栏。点击<strong>定制资源定义</strong>。</p></li><li><p>在右侧的搜索框中，输入 <code>clusterconfiguration</code>，并点击结果查看其详细页面。</p></li><li><p>点击 <code>ks-installer</code> 右侧的 <img src="'+u+`" width="15" alt="icon">，选择<strong>编辑 YAML</strong>。</p></li><li><p>找到 <strong>metrics_server</strong>，将 <code>enabled</code> 的 <code>false</code> 更改为 <code>true</code>。</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>  <span class="token key atrule">metrics_server</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 将“false”更改为“true”。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>点击右下角的<strong>确定</strong>，保存配置。</p></li><li><p>进入 <code>/etc/kubeedge/config</code> 文件，搜索 <code>edgeStream</code>，将 <code>false</code> 更改为 <code>true</code> 并保存文件。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/kubeedge/config
<span class="token function">vi</span> edgecore.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>edgeStream:
enable: <span class="token boolean">true</span> <span class="token comment">#将“false”更改为“true”。</span>
handshakeTimeout: <span class="token number">30</span>
readDeadline: <span class="token number">15</span>
server: xx.xxx.xxx.xxx:10004 <span class="token comment">#如果没有添加端口转发，将端口修改为30004。</span>
tlsTunnelCAFile: /etc/kubeedge/ca/rootCA.crt
tlsTunnelCertFile: /etc/kubeedge/certs/server.crt
tlsTunnelPrivateKeyFile: /etc/kubeedge/certs/server.key
writeDeadline: <span class="token number">15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>重启 <code>edgecore.service</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>systemctl restart edgecore.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>如果仍然无法显示监控数据，执行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> edgecore.service <span class="token parameter variable">-b</span> <span class="token parameter variable">-r</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果提示 <code>failed to check the running environment: kube-proxy should not running on edge node when running edgecore</code>，需要参考步骤 8 再次重启 <code>edgecore.service</code>。</p></div></li></ol><h2 id="移除边缘节点" tabindex="-1"><a class="header-anchor" href="#移除边缘节点"><span>移除边缘节点</span></a></h2><p>移除边缘节点之前，请删除在该节点上运行的全部工作负载。</p><ol><li><p>在边缘节点上运行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./keadm reset
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>apt remove mosquitto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/kubeedge /var/lib/edged /etc/kubeedge/ca /etc/kubeedge/certs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果无法删除 tmpfs 挂载的文件夹，请重启节点或先取消挂载该文件夹。</p></div></li><li><p>运行以下命令从集群中移除边缘节点：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kubectl delete <span class="token function">node</span> <span class="token operator">&lt;</span>edgenode-name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>如需从集群中卸载 KubeEdge，运行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>helm uninstall kubeedge <span class="token parameter variable">-n</span> kubeedge
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>kubectl delete ns kubeedge
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>卸载完成后，您将无法为集群添加边缘节点。</p></div></li></ol>`,6);function H(T,j){const s=l("ExternalLinkIcon");return o(),d("div",null,[e("p",null,[n("KubeSphere 利用 "),e("a",g,[n("KubeEdge"),a(s)]),n(" 将原生容器化应用程序编排功能扩展到边缘的主机。KubeEdge 拥有单独的云端和边端核心模块，提供完整的边缘计算解决方案，但安装过程可能较为繁琐。")]),b,e("div",v,[m,e("p",null,[n("有关 KubeEdge 不同组件的更多信息，请参见 "),e("a",k,[n("KubeEdge 文档"),a(s)]),n("。")])]),A,f,e("ul",null,[e("li",null,[n("您需要启用 "),e("a",_,[n("KubeEdge"),a(s)]),n("。")]),x,E,y]),q,e("p",null,[e("a",D,[n("KubeEdge"),a(s)]),n(" 支持多种容器运行时，包括 Docker、containerd、CRI-O 和 Virtlet。有关更多信息，请参见 "),e("a",K,[n("KubeEdge 文档"),a(s)]),n("。")]),B,N,e("p",null,[n("执行以下步骤以在边缘节点上配置 "),e("a",P,[n("EdgeMesh"),a(s)]),n("。")]),M,e("ol",null,[Q,e("li",null,[w,e("div",z,[C,e("p",null,[n("如果已经启用"),e("a",R,[n("多集群管理"),a(s)]),n("，则需要首先选择一个集群。")])])]),S,e("li",null,[U,e("div",F,[I,e("p",null,[n("添加边缘节点后，如果在"),V,n("页面查看不到 CPU 和内存资源使用情况，请确保您的集群中已安装 "),e("a",G,[n("Metrics Server"),a(s)]),n(" 0.4.1 或以上版本。")])])])]),L])}const O=i(h,[["render",H],["__file","add-edge-nodes.html.vue"]]),X=JSON.parse('{"path":"/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/add-edge-nodes.html","title":"添加边缘节点","lang":"zh-CN","frontmatter":{"title":"添加边缘节点","description":"KubeSphere 利用 KubeEdge 将原生容器化应用程序编排功能扩展到边缘的主机。KubeEdge 拥有单独的云端和边端核心模块，提供完整的边缘计算解决方案，但安装过程可能较为繁琐。 kubeedge_archkubeedge_arch 提示 有关 KubeEdge 不同组件的更多信息，请参见 KubeEdge 文档。 本教程演示如何将边缘节...","head":[["meta",{"property":"og:url","content":"https://github.com/abelit/abelit-datapeacock.git/guide/cloudnative/kubesphere/install-on-linux/cluster-operation/add-edge-nodes.html"}],["meta",{"property":"og:site_name","content":"数之雀"}],["meta",{"property":"og:title","content":"添加边缘节点"}],["meta",{"property":"og:description","content":"KubeSphere 利用 KubeEdge 将原生容器化应用程序编排功能扩展到边缘的主机。KubeEdge 拥有单独的云端和边端核心模块，提供完整的边缘计算解决方案，但安装过程可能较为繁琐。 kubeedge_archkubeedge_arch 提示 有关 KubeEdge 不同组件的更多信息，请参见 KubeEdge 文档。 本教程演示如何将边缘节..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T14:06:18.000Z"}],["meta",{"property":"article:author","content":"Abelit"}],["meta",{"property":"article:modified_time","content":"2024-05-11T14:06:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"添加边缘节点\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T14:06:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Abelit\\",\\"url\\":\\"https://github.com/abelit\\"}]}"]]},"headers":[{"level":2,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":2,"title":"防止非边缘工作负载调度到边缘节点","slug":"防止非边缘工作负载调度到边缘节点","link":"#防止非边缘工作负载调度到边缘节点","children":[]},{"level":2,"title":"创建防火墙规则和端口转发规则","slug":"创建防火墙规则和端口转发规则","link":"#创建防火墙规则和端口转发规则","children":[]},{"level":2,"title":"配置边缘节点","slug":"配置边缘节点","link":"#配置边缘节点","children":[{"level":3,"title":"安装容器运行时","slug":"安装容器运行时","link":"#安装容器运行时","children":[]},{"level":3,"title":"配置 EdgeMesh","slug":"配置-edgemesh","link":"#配置-edgemesh","children":[]}]},{"level":2,"title":"添加边缘节点","slug":"添加边缘节点","link":"#添加边缘节点","children":[]},{"level":2,"title":"收集边缘节点监控信息","slug":"收集边缘节点监控信息","link":"#收集边缘节点监控信息","children":[]},{"level":2,"title":"移除边缘节点","slug":"移除边缘节点","link":"#移除边缘节点","children":[]}],"git":{"createdTime":1715436378000,"updatedTime":1715436378000,"contributors":[{"name":"ableit","email":"ychenid@live.com","commits":1}]},"readingTime":{"minutes":5,"words":1499},"filePathRelative":"guide/cloudnative/kubesphere/install-on-linux/cluster-operation/add-edge-nodes.md","localizedDate":"2024年5月11日","autoDesc":true,"excerpt":"<p>KubeSphere 利用 <a href=\\"https://kubeedge.io/zh/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">KubeEdge</a> 将原生容器化应用程序编排功能扩展到边缘的主机。KubeEdge 拥有单独的云端和边端核心模块，提供完整的边缘计算解决方案，但安装过程可能较为繁琐。</p>\\n<figure><figcaption>kubeedge_arch</figcaption></figure>\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>有关 KubeEdge 不同组件的更多信息，请参见 <a href=\\"https://docs.kubeedge.io/zh/docs/kubeedge/#components\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">KubeEdge 文档</a>。</p>\\n</div>"}');export{O as comp,X as data};
