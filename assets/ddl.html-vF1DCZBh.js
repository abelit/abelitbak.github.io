import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,f as e}from"./app-DR5J2daJ.js";const t={},p=e(`<h2 id="dblink-ddl" tabindex="-1"><a class="header-anchor" href="#dblink-ddl"><span>dblink ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/db_link_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for DB links for the specific schema, or all schemas.</span>
<span class="token comment">-- Call Syntax  : @db_link_ddl (schema or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;DB_LINK&#39;</span><span class="token punctuation">,</span> db_link<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   dba_db_links
<span class="token keyword">WHERE</span>  owner <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> owner<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="directory-ddl" tabindex="-1"><a class="header-anchor" href="#directory-ddl"><span>directory ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/directory_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for specified directory, or all directories.</span>
<span class="token comment">-- Call Syntax  : @directory_ddl (directory or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;DIRECTORY&#39;</span><span class="token punctuation">,</span> directory_name<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   dba_directories
<span class="token keyword">WHERE</span>  directory_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> directory_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="foreign-key-ddl" tabindex="-1"><a class="header-anchor" href="#foreign-key-ddl"><span>foreign key ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/fks_on_table_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the foreign keys on the specified table, or all tables.</span>
<span class="token comment">-- Call Syntax  : @fks_on_table_ddl (schema) (table-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;REF_CONSTRAINT&#39;</span><span class="token punctuation">,</span> constraint_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_constraints
<span class="token keyword">WHERE</span>  owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    table_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    constraint_type <span class="token operator">=</span> <span class="token string">&#39;R&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="foreign-key-reference" tabindex="-1"><a class="header-anchor" href="#foreign-key-reference"><span>foreign key reference</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/fks_ref_table_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the foreign keys that reference the specified table.</span>
<span class="token comment">-- Call Syntax  : @fks_ref_table_ddl (schema) (table-name)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;REF_CONSTRAINT&#39;</span><span class="token punctuation">,</span> ac1<span class="token punctuation">.</span>constraint_name<span class="token punctuation">,</span> ac1<span class="token punctuation">.</span>owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_constraints ac1
       <span class="token keyword">JOIN</span> all_constraints ac2 <span class="token keyword">ON</span> ac1<span class="token punctuation">.</span>r_owner <span class="token operator">=</span> ac2<span class="token punctuation">.</span>owner <span class="token operator">AND</span> ac1<span class="token punctuation">.</span>r_constraint_name <span class="token operator">=</span> ac2<span class="token punctuation">.</span>constraint_name
<span class="token keyword">WHERE</span>  ac2<span class="token punctuation">.</span>owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    ac2<span class="token punctuation">.</span>table_name <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    ac2<span class="token punctuation">.</span>constraint_type <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;P&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;U&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    ac1<span class="token punctuation">.</span>constraint_type <span class="token operator">=</span> <span class="token string">&#39;R&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="job-ddl" tabindex="-1"><a class="header-anchor" href="#job-ddl"><span>job ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/job_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified job.</span>
<span class="token comment">-- Call Syntax  : @job_ddl (schema-name) (job-name)</span>
<span class="token comment">-- Last Modified: 31/12/2018</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;PROCOBJ&#39;</span><span class="token punctuation">,</span> job_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_scheduler_jobs
<span class="token keyword">WHERE</span>  owner    <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    job_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> job_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="network-acl-ddl" tabindex="-1"><a class="header-anchor" href="#network-acl-ddl"><span>network ACL ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/11g/network_acls_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Displays DDL for all network ACLs.</span>
<span class="token comment">-- Requirements : Access to the DBA views.</span>
<span class="token comment">-- Call Syntax  : @network_acls_ddl</span>
<span class="token comment">-- Last Modified: 28-JUL-2017</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>

<span class="token keyword">SET</span> SERVEROUTPUT <span class="token keyword">ON</span> FORMAT WRAPPED LINESIZE <span class="token number">300</span>
<span class="token keyword">DECLARE</span>
  l_last_acl       dba_network_acls<span class="token punctuation">.</span>acl<span class="token operator">%</span><span class="token keyword">TYPE</span>                 :<span class="token operator">=</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">;</span>
  l_last_principal dba_network_acl_privileges<span class="token punctuation">.</span>principal<span class="token operator">%</span><span class="token keyword">TYPE</span> :<span class="token operator">=</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">;</span>
  l_last_privilege dba_network_acl_privileges<span class="token punctuation">.</span>privilege<span class="token operator">%</span><span class="token keyword">TYPE</span> :<span class="token operator">=</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">;</span>
  l_last_host      dba_network_acls<span class="token punctuation">.</span>host<span class="token operator">%</span><span class="token keyword">TYPE</span>                :<span class="token operator">=</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">;</span>

  <span class="token keyword">FUNCTION</span> get_timestamp <span class="token punctuation">(</span>p_timestamp <span class="token operator">IN</span> <span class="token keyword">TIMESTAMP</span> <span class="token keyword">WITH</span> <span class="token keyword">TIME</span> ZONE<span class="token punctuation">)</span>
    <span class="token keyword">RETURN</span> VARCHAR2
  <span class="token keyword">AS</span>
    l_return  VARCHAR2<span class="token punctuation">(</span><span class="token number">32767</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">BEGIN</span>
    <span class="token keyword">IF</span> p_timestamp <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span>
      <span class="token keyword">RETURN</span> <span class="token string">&#39;NULL&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
    <span class="token keyword">RETURN</span> <span class="token string">&#39;TO_TIMESTAMP_TZ(&#39;&#39;&#39;</span> <span class="token operator">||</span> TO_CHAR<span class="token punctuation">(</span>p_timestamp<span class="token punctuation">,</span> <span class="token string">&#39;DD-MON-YYYY HH24:MI:SS.FF TZH:TZM&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;&#39;DD-MON-YYYY HH24:MI:SS.FF TZH:TZM&#39;&#39;)&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span>
  <span class="token keyword">FOR</span> i <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> a<span class="token punctuation">.</span>acl<span class="token punctuation">,</span>
                   a<span class="token punctuation">.</span>host<span class="token punctuation">,</span>
                   a<span class="token punctuation">.</span>lower_port<span class="token punctuation">,</span>
                   a<span class="token punctuation">.</span>upper_port<span class="token punctuation">,</span>
                   b<span class="token punctuation">.</span>principal<span class="token punctuation">,</span>
                   b<span class="token punctuation">.</span>privilege<span class="token punctuation">,</span>
                   b<span class="token punctuation">.</span>is_grant<span class="token punctuation">,</span>
                   b<span class="token punctuation">.</span>start_date<span class="token punctuation">,</span>
                   b<span class="token punctuation">.</span>end_date
            <span class="token keyword">FROM</span>   dba_network_acls a
                   <span class="token keyword">JOIN</span> dba_network_acl_privileges b <span class="token keyword">ON</span> a<span class="token punctuation">.</span>acl <span class="token operator">=</span> b<span class="token punctuation">.</span>acl
            <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> a<span class="token punctuation">.</span>acl<span class="token punctuation">,</span> a<span class="token punctuation">.</span>host<span class="token punctuation">,</span> a<span class="token punctuation">.</span>lower_port<span class="token punctuation">,</span> a<span class="token punctuation">.</span>upper_port<span class="token punctuation">)</span>
  <span class="token keyword">LOOP</span>
    <span class="token keyword">IF</span> l_last_acl <span class="token operator">&lt;&gt;</span> i<span class="token punctuation">.</span>acl <span class="token keyword">THEN</span>
      <span class="token comment">-- First time we&#39;ve seen this ACL, so create a new one.</span>
      l_last_host :<span class="token operator">=</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">;</span>

      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;-- -------------------------------------------------&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;-- &#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl<span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;-- -------------------------------------------------&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;BEGIN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  DBMS_NETWORK_ACL_ADMIN.drop_acl (&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    acl          =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;);&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  COMMIT;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;END;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;BEGIN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  DBMS_NETWORK_ACL_ADMIN.create_acl (&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    acl          =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    description  =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    principal    =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>principal <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    is_grant     =&gt; &#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>is_grant <span class="token operator">||</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    privilege    =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>privilege <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    start_date   =&gt; &#39;</span> <span class="token operator">||</span> get_timestamp<span class="token punctuation">(</span>i<span class="token punctuation">.</span>start_date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    end_date     =&gt; &#39;</span> <span class="token operator">||</span> get_timestamp<span class="token punctuation">(</span>i<span class="token punctuation">.</span>end_date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;);&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  COMMIT;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;END;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      l_last_acl :<span class="token operator">=</span> i<span class="token punctuation">.</span>acl<span class="token punctuation">;</span>
      l_last_principal :<span class="token operator">=</span> i<span class="token punctuation">.</span>principal<span class="token punctuation">;</span>
      l_last_privilege :<span class="token operator">=</span> i<span class="token punctuation">.</span>privilege<span class="token punctuation">;</span>
    <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>

    <span class="token keyword">IF</span> l_last_principal <span class="token operator">&lt;&gt;</span> i<span class="token punctuation">.</span>principal 
    <span class="token operator">OR</span> <span class="token punctuation">(</span>l_last_principal <span class="token operator">=</span> i<span class="token punctuation">.</span>principal <span class="token operator">AND</span> l_last_privilege <span class="token operator">&lt;&gt;</span> i<span class="token punctuation">.</span>privilege<span class="token punctuation">)</span> <span class="token keyword">THEN</span>
      <span class="token comment">-- Add another principal to an existing ACL.</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;BEGIN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  DBMS_NETWORK_ACL_ADMIN.add_privilege (&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    acl       =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    principal =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>principal <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    is_grant  =&gt; &#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>is_grant <span class="token operator">||</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    privilege =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>privilege <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    start_date   =&gt; &#39;</span> <span class="token operator">||</span> get_timestamp<span class="token punctuation">(</span>i<span class="token punctuation">.</span>start_date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    end_date     =&gt; &#39;</span> <span class="token operator">||</span> get_timestamp<span class="token punctuation">(</span>i<span class="token punctuation">.</span>end_date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;);&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  COMMIT;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;END;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      l_last_principal :<span class="token operator">=</span> i<span class="token punctuation">.</span>principal<span class="token punctuation">;</span>
      l_last_privilege :<span class="token operator">=</span> i<span class="token punctuation">.</span>privilege<span class="token punctuation">;</span>
    <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>

    <span class="token keyword">IF</span> l_last_host <span class="token operator">&lt;&gt;</span> i<span class="token punctuation">.</span>host<span class="token operator">||</span><span class="token string">&#39;:&#39;</span><span class="token operator">||</span>i<span class="token punctuation">.</span>lower_port<span class="token operator">||</span><span class="token string">&#39;:&#39;</span><span class="token operator">||</span>i<span class="token punctuation">.</span>upper_port <span class="token keyword">THEN</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;BEGIN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  DBMS_NETWORK_ACL_ADMIN.assign_acl (&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    acl         =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>acl <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    host        =&gt; &#39;&#39;&#39;</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>host <span class="token operator">||</span> <span class="token string">&#39;&#39;&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    lower_port  =&gt; &#39;</span> <span class="token operator">||</span> NVL<span class="token punctuation">(</span>TO_CHAR<span class="token punctuation">(</span>i<span class="token punctuation">.</span>lower_port<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;NULL&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;    upper_port  =&gt; &#39;</span> <span class="token operator">||</span> NVL<span class="token punctuation">(</span>TO_CHAR<span class="token punctuation">(</span>i<span class="token punctuation">.</span>upper_port<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;NULL&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;);&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;  COMMIT;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;END;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      DBMS_OUTPUT<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      l_last_host :<span class="token operator">=</span> i<span class="token punctuation">.</span>host<span class="token operator">||</span><span class="token string">&#39;:&#39;</span><span class="token operator">||</span>i<span class="token punctuation">.</span>lower_port<span class="token operator">||</span><span class="token string">&#39;:&#39;</span><span class="token operator">||</span>i<span class="token punctuation">.</span>upper_port<span class="token punctuation">;</span>
    <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span>
  <span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="profile-ddl" tabindex="-1"><a class="header-anchor" href="#profile-ddl"><span>profile ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/profile_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Displays the DDL for the specified profile(s).</span>
<span class="token comment">-- Call Syntax  : @profile_ddl (profile | part of profile)</span>
<span class="token comment">-- Last Modified: 28/01/2006</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>

<span class="token keyword">set</span> long <span class="token number">20000</span> longchunksize <span class="token number">20000</span> pagesize <span class="token number">0</span> linesize <span class="token number">1000</span> feedback <span class="token keyword">off</span> verify <span class="token keyword">off</span> trimspool <span class="token keyword">on</span>
<span class="token keyword">column</span> ddl format a1000

<span class="token keyword">begin</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_ddl<span class="token punctuation">(</span><span class="token string">&#39;PROFILE&#39;</span><span class="token punctuation">,</span> profile<span class="token punctuation">)</span> <span class="token keyword">as</span> profile_ddl
<span class="token keyword">from</span>   <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">distinct</span> profile
        <span class="token keyword">from</span>   dba_profiles<span class="token punctuation">)</span>
<span class="token keyword">where</span>  profile <span class="token operator">like</span> upper<span class="token punctuation">(</span><span class="token string">&#39;%&amp;1%&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">set</span> linesize <span class="token number">80</span> pagesize <span class="token number">14</span> feedback <span class="token keyword">on</span> verify <span class="token keyword">on</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="role-ddl" tabindex="-1"><a class="header-anchor" href="#role-ddl"><span>role ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/role_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Displays the DDL for a specific role.</span>
<span class="token comment">-- Call Syntax  : @role_ddl (role)</span>
<span class="token comment">-- Last Modified: 27/07/2022 - Increase long to 1000000.</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>

<span class="token keyword">set</span> long <span class="token number">1000000</span> longchunksize <span class="token number">20000</span> pagesize <span class="token number">0</span> linesize <span class="token number">1000</span> feedback <span class="token keyword">off</span> verify <span class="token keyword">off</span> trimspool <span class="token keyword">on</span>
<span class="token keyword">column</span> ddl format a1000

<span class="token keyword">begin</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
 
variable v_role VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">exec</span> :v_role :<span class="token operator">=</span> upper<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_ddl<span class="token punctuation">(</span><span class="token string">&#39;ROLE&#39;</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>role<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_roles r
<span class="token keyword">where</span>  r<span class="token punctuation">.</span>role <span class="token operator">=</span> :v_role
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;ROLE_GRANT&#39;</span><span class="token punctuation">,</span> rp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_role_privs rp
<span class="token keyword">where</span>  rp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_role
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;SYSTEM_GRANT&#39;</span><span class="token punctuation">,</span> sp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_sys_privs sp
<span class="token keyword">where</span>  sp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_role
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;OBJECT_GRANT&#39;</span><span class="token punctuation">,</span> tp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_tab_privs tp
<span class="token keyword">where</span>  tp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_role
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">/</span>

<span class="token keyword">set</span> linesize <span class="token number">80</span> pagesize <span class="token number">14</span> feedback <span class="token keyword">on</span> verify <span class="token keyword">on</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sequence-ddl" tabindex="-1"><a class="header-anchor" href="#sequence-ddl"><span>sequence ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/sequence_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified sequence, or all sequences.</span>
<span class="token comment">-- Call Syntax  : @sequence_ddl (schema-name) (sequence-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;SEQUENCE&#39;</span><span class="token punctuation">,</span> sequence_name<span class="token punctuation">,</span> sequence_owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_sequences
<span class="token keyword">WHERE</span>  sequence_owner <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    sequence_name  <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> sequence_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="synonym-by-object-owner-ddl" tabindex="-1"><a class="header-anchor" href="#synonym-by-object-owner-ddl"><span>synonym by object owner ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/synonym_by_object_owner_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified synonym, or all synonyms.</span>
<span class="token comment">--                Search based on owner of the object, not the synonym.</span>
<span class="token comment">-- Call Syntax  : @synonym_by_object_owner_ddl (schema-name) (synonym-name or all)</span>
<span class="token comment">-- Last Modified: 08/07/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;SYNONYM&#39;</span><span class="token punctuation">,</span> synonym_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_synonyms
<span class="token keyword">WHERE</span>  table_owner <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    synonym_name  <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> synonym_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="synonym-ddl" tabindex="-1"><a class="header-anchor" href="#synonym-ddl"><span>synonym ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/synonym_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified synonym, or all synonyms.</span>
<span class="token comment">--                Search based on owner of the synonym.</span>
<span class="token comment">-- Call Syntax  : @synonym_ddl (schema-name) (synonym-name or all)</span>
<span class="token comment">-- Last Modified: 08/07/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;SYNONYM&#39;</span><span class="token punctuation">,</span> synonym_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_synonyms
<span class="token keyword">WHERE</span>  owner <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    synonym_name  <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> synonym_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="synonym-public-remote-ddl" tabindex="-1"><a class="header-anchor" href="#synonym-public-remote-ddl"><span>synonym public remote ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/synonym_public_remote_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for public synonyms to remote objects.</span>
<span class="token comment">-- Call Syntax  : @synonym_remote_ddl</span>
<span class="token comment">-- Last Modified: 08/07/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;SYNONYM&#39;</span><span class="token punctuation">,</span> synonym_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   dba_synonyms
<span class="token keyword">WHERE</span>  owner <span class="token operator">=</span> <span class="token string">&#39;PUBLIC&#39;</span>
<span class="token operator">AND</span>    db_link <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="table-constraints-ddl" tabindex="-1"><a class="header-anchor" href="#table-constraints-ddl"><span>table constraints ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/table_constraints_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the UK &amp; PK constraint DDL for specified table, or all tables.</span>
<span class="token comment">-- Call Syntax  : @table_constraints_ddl (schema-name) (table-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;CONSTRAINT&#39;</span><span class="token punctuation">,</span> constraint_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_constraints
<span class="token keyword">WHERE</span>  owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    table_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    constraint_type <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;U&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;P&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="table-ddl" tabindex="-1"><a class="header-anchor" href="#table-ddl"><span>table ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/table_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for specified table, or all tables.</span>
<span class="token comment">-- Call Syntax  : @table_ddl (schema) (table-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">-- Uncomment the following lines if you need them.</span>
   <span class="token comment">--DBMS_METADATA.set_transform_param (DBMS_METADATA.session_transform, &#39;SEGMENT_ATTRIBUTES&#39;, false);</span>
   <span class="token comment">--DBMS_METADATA.set_transform_param (DBMS_METADATA.session_transform, &#39;STORAGE&#39;, false);</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;TABLE&#39;</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_tables
<span class="token keyword">WHERE</span>  owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    table_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="table-grants-ddl" tabindex="-1"><a class="header-anchor" href="#table-grants-ddl"><span>table grants ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/table_grants_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for all grants on the specified table.</span>
<span class="token comment">-- Call Syntax  : @table_grants_ddl (schema) (table_name)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> dbms_metadata<span class="token punctuation">.</span>get_dependent_ddl<span class="token punctuation">(</span><span class="token string">&#39;OBJECT_GRANT&#39;</span><span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="table-indexes-ddl" tabindex="-1"><a class="header-anchor" href="#table-indexes-ddl"><span>table indexes ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/table_indexes_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the index DDL for specified table, or all tables.</span>
<span class="token comment">-- Call Syntax  : @table_indexes_ddl (schema-name) (table-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">-- Uncomment the following lines if you need them.</span>
   <span class="token comment">--DBMS_METADATA.set_transform_param (DBMS_METADATA.session_transform, &#39;SEGMENT_ATTRIBUTES&#39;, false);</span>
   <span class="token comment">--DBMS_METADATA.set_transform_param (DBMS_METADATA.session_transform, &#39;STORAGE&#39;, false);</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;INDEX&#39;</span><span class="token punctuation">,</span> index_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_indexes
<span class="token keyword">WHERE</span>  owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    table_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="table-triggers-ddl" tabindex="-1"><a class="header-anchor" href="#table-triggers-ddl"><span>table triggers ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/table_triggers_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for all triggers on the specified table.</span>
<span class="token comment">-- Call Syntax  : @table_triggers_ddl (schema) (table_name)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;TRIGGER&#39;</span><span class="token punctuation">,</span> trigger_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_triggers
<span class="token keyword">WHERE</span>  table_owner <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    table_name  <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tablespace-ddl" tabindex="-1"><a class="header-anchor" href="#tablespace-ddl"><span>tablespace ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/tablespace_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified tablespace, or all tablespaces.</span>
<span class="token comment">-- Call Syntax  : @tablespace_ddl (tablespace-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;TABLESPACE&#39;</span><span class="token punctuation">,</span> tablespace_name<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   dba_tablespaces
<span class="token keyword">WHERE</span>  tablespace_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> tablespace_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="trigger-ddl" tabindex="-1"><a class="header-anchor" href="#trigger-ddl"><span>trigger ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/trigger_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for specified trigger, or all trigger.</span>
<span class="token comment">-- Call Syntax  : @trigger_ddl (schema) (trigger-name or all)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;TRIGGER&#39;</span><span class="token punctuation">,</span> trigger_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_triggers
<span class="token keyword">WHERE</span>  owner        <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    trigger_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> trigger_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="user-ddl" tabindex="-1"><a class="header-anchor" href="#user-ddl"><span>user ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/user_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Displays the DDL for a specific user.</span>
<span class="token comment">-- Call Syntax  : @user_ddl (username)</span>
<span class="token comment">-- Last Modified: 07/08/2018</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>

<span class="token keyword">set</span> long <span class="token number">20000</span> longchunksize <span class="token number">20000</span> pagesize <span class="token number">0</span> linesize <span class="token number">1000</span> feedback <span class="token keyword">off</span> verify <span class="token keyword">off</span> trimspool <span class="token keyword">on</span>
<span class="token keyword">column</span> ddl format a1000

<span class="token keyword">begin</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   dbms_metadata<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>dbms_metadata<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">end</span><span class="token punctuation">;</span>
<span class="token operator">/</span>
 
variable v_username VARCHAR2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">exec</span> :v_username :<span class="token operator">=</span> upper<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_ddl<span class="token punctuation">(</span><span class="token string">&#39;USER&#39;</span><span class="token punctuation">,</span> u<span class="token punctuation">.</span>username<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_users u
<span class="token keyword">where</span>  u<span class="token punctuation">.</span>username <span class="token operator">=</span> :v_username
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;TABLESPACE_QUOTA&#39;</span><span class="token punctuation">,</span> tq<span class="token punctuation">.</span>username<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_ts_quotas tq
<span class="token keyword">where</span>  tq<span class="token punctuation">.</span>username <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;ROLE_GRANT&#39;</span><span class="token punctuation">,</span> rp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_role_privs rp
<span class="token keyword">where</span>  rp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;SYSTEM_GRANT&#39;</span><span class="token punctuation">,</span> sp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_sys_privs sp
<span class="token keyword">where</span>  sp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;OBJECT_GRANT&#39;</span><span class="token punctuation">,</span> tp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_tab_privs tp
<span class="token keyword">where</span>  tp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_granted_ddl<span class="token punctuation">(</span><span class="token string">&#39;DEFAULT_ROLE&#39;</span><span class="token punctuation">,</span> rp<span class="token punctuation">.</span>grantee<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_role_privs rp
<span class="token keyword">where</span>  rp<span class="token punctuation">.</span>grantee <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    rp<span class="token punctuation">.</span>default_role <span class="token operator">=</span> <span class="token string">&#39;YES&#39;</span>
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> to_clob<span class="token punctuation">(</span><span class="token string">&#39;/* Start profile creation script in case they are missing&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_users u
<span class="token keyword">where</span>  u<span class="token punctuation">.</span>username <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    u<span class="token punctuation">.</span>profile <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;DEFAULT&#39;</span>
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> dbms_metadata<span class="token punctuation">.</span>get_ddl<span class="token punctuation">(</span><span class="token string">&#39;PROFILE&#39;</span><span class="token punctuation">,</span> u<span class="token punctuation">.</span>profile<span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_users u
<span class="token keyword">where</span>  u<span class="token punctuation">.</span>username <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    u<span class="token punctuation">.</span>profile <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;DEFAULT&#39;</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> to_clob<span class="token punctuation">(</span><span class="token string">&#39;End profile creation script */&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> ddl
<span class="token keyword">from</span>   dba_users u
<span class="token keyword">where</span>  u<span class="token punctuation">.</span>username <span class="token operator">=</span> :v_username
<span class="token operator">and</span>    u<span class="token punctuation">.</span>profile <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;DEFAULT&#39;</span>
<span class="token operator">and</span>    rownum <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">/</span>

<span class="token keyword">set</span> linesize <span class="token number">80</span> pagesize <span class="token number">14</span> feedback <span class="token keyword">on</span> trimspool <span class="token keyword">on</span> verify <span class="token keyword">on</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="view-ddl" tabindex="-1"><a class="header-anchor" href="#view-ddl"><span>view ddl</span></a></h2><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token comment">-- File Name    : https://oracle-base.com/dba/script_creation/view_ddl.sql</span>
<span class="token comment">-- Author       : Tim Hall</span>
<span class="token comment">-- Description  : Creates the DDL for the specified view.</span>
<span class="token comment">-- Call Syntax  : @view_ddl (schema-name) (view-name)</span>
<span class="token comment">-- Last Modified: 16/03/2013 - Rewritten to use DBMS_METADATA</span>
<span class="token comment">-- -----------------------------------------------------------------------------------</span>
<span class="token keyword">SET</span> LONG <span class="token number">20000</span> LONGCHUNKSIZE <span class="token number">20000</span> PAGESIZE <span class="token number">0</span> LINESIZE <span class="token number">1000</span> FEEDBACK <span class="token keyword">OFF</span> VERIFY <span class="token keyword">OFF</span> TRIMSPOOL <span class="token keyword">ON</span>

<span class="token keyword">BEGIN</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;SQLTERMINATOR&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   DBMS_METADATA<span class="token punctuation">.</span>set_transform_param <span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>session_transform<span class="token punctuation">,</span> <span class="token string">&#39;PRETTY&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">SELECT</span> DBMS_METADATA<span class="token punctuation">.</span>get_ddl <span class="token punctuation">(</span><span class="token string">&#39;VIEW&#39;</span><span class="token punctuation">,</span> view_name<span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>   all_views
<span class="token keyword">WHERE</span>  owner      <span class="token operator">=</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;1&#39;</span><span class="token punctuation">)</span>
<span class="token operator">AND</span>    view_name <span class="token operator">=</span> DECODE<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span> view_name<span class="token punctuation">,</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;&amp;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SET</span> PAGESIZE <span class="token number">14</span> LINESIZE <span class="token number">100</span> FEEDBACK <span class="token keyword">ON</span> VERIFY <span class="token keyword">ON</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="space-growth-trend" tabindex="-1"><a class="header-anchor" href="#space-growth-trend"><span>space growth trend</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>select * from table(dbms_space.OBJECT_GROWTH_TREND(&#39;&amp;owner&#39;,&#39;$table_name&#39;,&#39;TABLE&#39;));
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,44),o=[p];function l(c,i){return s(),a("div",null,o)}const d=n(t,[["render",l],["__file","ddl.html.vue"]]),k=JSON.parse(`{"path":"/guide/database/oracle/ddl.html","title":"DDL","lang":"zh-CN","frontmatter":{"title":"DDL","description":"dblink ddl directory ddl foreign key ddl foreign key reference job ddl network ACL ddl profile ddl role ddl sequence ddl synonym by object owner ddl synonym ddl synonym public r...","head":[["meta",{"property":"og:url","content":"https://github.com/abelit/abelit-datapeacock.git/guide/database/oracle/ddl.html"}],["meta",{"property":"og:site_name","content":""}],["meta",{"property":"og:title","content":"DDL"}],["meta",{"property":"og:description","content":"dblink ddl directory ddl foreign key ddl foreign key reference job ddl network ACL ddl profile ddl role ddl sequence ddl synonym by object owner ddl synonym ddl synonym public r..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T14:06:18.000Z"}],["meta",{"property":"article:author","content":"Abelit"}],["meta",{"property":"article:modified_time","content":"2024-05-11T14:06:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DDL\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T14:06:18.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Abelit\\",\\"url\\":\\"https://github.com/abelit\\"}]}"]]},"headers":[{"level":2,"title":"dblink ddl","slug":"dblink-ddl","link":"#dblink-ddl","children":[]},{"level":2,"title":"directory ddl","slug":"directory-ddl","link":"#directory-ddl","children":[]},{"level":2,"title":"foreign key ddl","slug":"foreign-key-ddl","link":"#foreign-key-ddl","children":[]},{"level":2,"title":"foreign key reference","slug":"foreign-key-reference","link":"#foreign-key-reference","children":[]},{"level":2,"title":"job ddl","slug":"job-ddl","link":"#job-ddl","children":[]},{"level":2,"title":"network ACL ddl","slug":"network-acl-ddl","link":"#network-acl-ddl","children":[]},{"level":2,"title":"profile ddl","slug":"profile-ddl","link":"#profile-ddl","children":[]},{"level":2,"title":"role ddl","slug":"role-ddl","link":"#role-ddl","children":[]},{"level":2,"title":"sequence ddl","slug":"sequence-ddl","link":"#sequence-ddl","children":[]},{"level":2,"title":"synonym by object owner ddl","slug":"synonym-by-object-owner-ddl","link":"#synonym-by-object-owner-ddl","children":[]},{"level":2,"title":"synonym ddl","slug":"synonym-ddl","link":"#synonym-ddl","children":[]},{"level":2,"title":"synonym public remote ddl","slug":"synonym-public-remote-ddl","link":"#synonym-public-remote-ddl","children":[]},{"level":2,"title":"table constraints ddl","slug":"table-constraints-ddl","link":"#table-constraints-ddl","children":[]},{"level":2,"title":"table ddl","slug":"table-ddl","link":"#table-ddl","children":[]},{"level":2,"title":"table grants ddl","slug":"table-grants-ddl","link":"#table-grants-ddl","children":[]},{"level":2,"title":"table indexes ddl","slug":"table-indexes-ddl","link":"#table-indexes-ddl","children":[]},{"level":2,"title":"table triggers ddl","slug":"table-triggers-ddl","link":"#table-triggers-ddl","children":[]},{"level":2,"title":"tablespace ddl","slug":"tablespace-ddl","link":"#tablespace-ddl","children":[]},{"level":2,"title":"trigger ddl","slug":"trigger-ddl","link":"#trigger-ddl","children":[]},{"level":2,"title":"user ddl","slug":"user-ddl","link":"#user-ddl","children":[]},{"level":2,"title":"view ddl","slug":"view-ddl","link":"#view-ddl","children":[]},{"level":2,"title":"space growth trend","slug":"space-growth-trend","link":"#space-growth-trend","children":[]}],"git":{"createdTime":1715436378000,"updatedTime":1715436378000,"contributors":[{"name":"ableit","email":"ychenid@live.com","commits":1}]},"readingTime":{"minutes":7.9,"words":2370},"filePathRelative":"guide/database/oracle/ddl.md","localizedDate":"2024511","autoDesc":true,"excerpt":"<h2>dblink ddl</h2>\\n<div class=\\"language-sql\\" data-ext=\\"sql\\" data-title=\\"sql\\"><pre class=\\"language-sql\\"><code><span class=\\"token comment\\">-- -----------------------------------------------------------------------------------</span>\\n<span class=\\"token comment\\">-- File Name    : https://oracle-base.com/dba/script_creation/db_link_ddl.sql</span>\\n<span class=\\"token comment\\">-- Author       : Tim Hall</span>\\n<span class=\\"token comment\\">-- Description  : Creates the DDL for DB links for the specific schema, or all schemas.</span>\\n<span class=\\"token comment\\">-- Call Syntax  : @db_link_ddl (schema or all)</span>\\n<span class=\\"token comment\\">-- Last Modified: 16/03/2013</span>\\n<span class=\\"token comment\\">-- -----------------------------------------------------------------------------------</span>\\n<span class=\\"token keyword\\">SET</span> LONG <span class=\\"token number\\">20000</span> LONGCHUNKSIZE <span class=\\"token number\\">20000</span> PAGESIZE <span class=\\"token number\\">0</span> LINESIZE <span class=\\"token number\\">1000</span> FEEDBACK <span class=\\"token keyword\\">OFF</span> VERIFY <span class=\\"token keyword\\">OFF</span> TRIMSPOOL <span class=\\"token keyword\\">ON</span>\\n\\n<span class=\\"token keyword\\">BEGIN</span>\\n   DBMS_METADATA<span class=\\"token punctuation\\">.</span>set_transform_param <span class=\\"token punctuation\\">(</span>DBMS_METADATA<span class=\\"token punctuation\\">.</span>session_transform<span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'SQLTERMINATOR'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n   DBMS_METADATA<span class=\\"token punctuation\\">.</span>set_transform_param <span class=\\"token punctuation\\">(</span>DBMS_METADATA<span class=\\"token punctuation\\">.</span>session_transform<span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'PRETTY'</span><span class=\\"token punctuation\\">,</span> <span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">END</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token operator\\">/</span>\\n\\n<span class=\\"token keyword\\">SELECT</span> DBMS_METADATA<span class=\\"token punctuation\\">.</span>get_ddl <span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'DB_LINK'</span><span class=\\"token punctuation\\">,</span> db_link<span class=\\"token punctuation\\">,</span> owner<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token keyword\\">FROM</span>   dba_db_links\\n<span class=\\"token keyword\\">WHERE</span>  owner <span class=\\"token operator\\">=</span> DECODE<span class=\\"token punctuation\\">(</span>UPPER<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'&amp;1'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'ALL'</span><span class=\\"token punctuation\\">,</span> owner<span class=\\"token punctuation\\">,</span> UPPER<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'&amp;1'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">SET</span> PAGESIZE <span class=\\"token number\\">14</span> LINESIZE <span class=\\"token number\\">1000</span> FEEDBACK <span class=\\"token keyword\\">ON</span> VERIFY <span class=\\"token keyword\\">ON</span>\\n</code></pre></div>"}`);export{d as comp,k as data};
